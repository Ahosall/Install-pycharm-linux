#!/bin/bash

antigoCaminho=$(pwd)

clear
sleep 2
echo ""
echo "──────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────"
echo "─██████████████─████████──████████─██████████████─██████──██████─██████████████─████████████████───██████──────────██████─"
echo "─██░░░░░░░░░░██─██░░░░██──██░░░░██─██░░░░░░░░░░██─██░░██──██░░██─██░░░░░░░░░░██─██░░░░░░░░░░░░██───██░░██████████████░░██─"
echo "─██░░██████░░██─████░░██──██░░████─██░░██████████─██░░██──██░░██─██░░██████░░██─██░░████████░░██───██░░░░░░░░░░░░░░░░░░██─"
echo "─██░░██──██░░██───██░░░░██░░░░██───██░░██─────────██░░██──██░░██─██░░██──██░░██─██░░██────██░░██───██░░██████░░██████░░██─"
echo "─██░░██████░░██───████░░░░░░████───██░░██─────────██░░██████░░██─██░░██████░░██─██░░████████░░██───██░░██──██░░██──██░░██─"
echo "─██░░░░░░░░░░██─────████░░████─────██░░██─────────██░░░░░░░░░░██─██░░░░░░░░░░██─██░░░░░░░░░░░░██───██░░██──██░░██──██░░██─"
echo "─██░░██████████───────██░░██───────██░░██─────────██░░██████░░██─██░░██████░░██─██░░██████░░████───██░░██──██████──██░░██─"
echo "─██░░██───────────────██░░██───────██░░██─────────██░░██──██░░██─██░░██──██░░██─██░░██──██░░██─────██░░██──────────██░░██─"
echo "─██░░██───────────────██░░██───────██░░██████████─██░░██──██░░██─██░░██──██░░██─██░░██──██░░██████─██░░██──────────██░░██─"
echo "─██░░██───────────────██░░██───────██░░░░░░░░░░██─██░░██──██░░██─██░░██──██░░██─██░░██──██░░░░░░██─██░░██──────────██░░██─"
echo "─██████───────────────██████───────██████████████─██████──██████─██████──██████─██████──██████████─██████──────────██████─"
echo "──────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────"
sleep 1
echo ""
echo "--------------------------------------------------------"
echo ""
echo "Feh's: Depois de iniciado não o interrompa."
echo ""
echo "--------------------------------------------------------"
echo "Acessando o ~"

sleep 0.5
cd ~

echo ""
pwd

echo "--------------------------------------------------------"
echo "Verificando se o diretório ~/Install-PyCharm/ existe."

sleep 1
if [ -e ~/Install-PyCharm/ ]; then
    echo "A pasta Install-PyCharm já existe."
    rm -Rf ~/Install-PyCharm/
    mkdir ~/Install-PyCharm/
    cd ~/Install-PyCharm/
else
    echo "Criando a pasta Install-PyCharm."
    mkdir ~/Install-PyCharm/
    cd ~/Install-PyCharm/
fi

echo ""
pwd

echo "--------------------------------------------------------"
echo "Baixando arquivo - pycharm-community-2021.1.tar.gz"
echo ""
sleep 1

curl -O https://download-cf.jetbrains.com/python/pycharm-community-2021.1.tar.gz

echo ""
echo "--------------------------------------------------------"
echo "Descompactando arquivo - pycharm-community-2021.1.tar.gz"
echo ""
sleep 1
echo "Armazenando os logs do tar dentro do arquivo log.txt"
echo ""
tar -zxvf pycharm-community-2021.1.tar.gz > log.txt
echo "Finalizado."
echo "--------------------------------------------------------"
echo "Acessando o diretório - pycharm-community-2021.1"
sleep 1

cd ./pycharm-community-2021.1

echo ""
pwd

echo "--------------------------------------------------------"
echo "(Recomendado)"
read -p "Você deseja executar o PyCharm agora? [s/n]: " OPT
OPT="$OPT" | cut -b 3

case "$OPT" in
    "s")
        bash ./bin/pycharm.sh
        ;;
    *)
        echo "Ok."
        ;;
esac

echo "--------------------------------------------------------"
echo "Você deseja voltar para onde você estava?"
echo ""
echo "$antigoCaminho"
read -p "[S/N]: " OPT
OPT="$OPT" | cut -b 3

case "$OPT" in
    "s")
        cd $antigoCaminho
        ;;
    *)
        echo "Ok, Byee."
        ;;
esac